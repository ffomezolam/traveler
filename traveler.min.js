!function(t,n,a){"undefined"!=typeof module&&module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):n[t]=a()}("Traveler",this,function(){function t(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t*(Math.PI/180)}function a(t){return t*(180/Math.PI)}function o(n){var a={};return t(n)?(a.lat=n[0],a.lng=n[1]):"object"==typeof n&&(a.lat=n.lat,a.lng=n.lng),a.lat=l(a.lat,-90,90),a.lng=l(a.lng,-180,180),a}function e(t,n,a){for(var o=a-n,t=t-n;t>o;)t-=o;for(;0>t;)t+=o;return t+n}function l(t,n,a){return t>a?a:n>t?n:t}var r=6,i=6371,s={distance:function(t,a){t=o(t),a=o(a);var e=n(t.lat);lat2=n(a.lat),diflat=n(a.lat-t.lat),diflng=n(a.lng-t.lng);var l=Math.sin(diflat/2),s=Math.sin(diflng/2),c=l*l+Math.cos(e)*Math.cos(lat2)*s*s,f=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return parseFloat((i*f).toFixed(r))},destination:function(t,l,s){console.log("-------------"),t=o(t),l=n(e(l,0,360));var c=n(t.lat),f=n(t.lng),u=s/i,h=Math.asin(Math.sin(c)*Math.cos(u)+Math.cos(c)*Math.sin(u)*Math.cos(l)),M=f+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(c),Math.cos(u)-Math.sin(c)*Math.sin(h));return console.log(h,M),{lat:parseFloat(a(h).toFixed(r)),lng:parseFloat(a(M).toFixed(r))}}};return s});